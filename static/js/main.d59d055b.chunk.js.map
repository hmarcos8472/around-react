{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Main.js","components/Card.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Main","props","currentUser","useContext","avatar","onClick","onEditAvatar","name","about","onEditProfile","type","onAddCard","children","Card","currentUserId","_id","isOwn","card","owner","isLiked","likes","some","i","onCardImageClick","style","backgroundImage","image","onCardDelete","title","onCardLike","likecount","Footer","PopupWithForm","isOpen","popupType","onClose","heading","onSubmit","handleSubmit","noValidate","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","isEditOpen","e","preventDefault","onUpdateUser","onChange","target","value","id","minLength","maxLength","required","placeholder","EditAvatarPopup","setAvatar","avatarInputRef","useRef","isAvatarOpen","onUpdateAvatar","ref","current","AddPlacePopup","newCardName","setNewCardName","newCardLink","setNewCardLink","isAddOpen","onAddPlace","link","ImagePopup","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","catch","err","console","log","method","body","JSON","stringify","cardId","authorization","App","isOverlayOn","setIsOverlayOn","setIsEditOpen","setIsAvatarOpen","setIsAddOpen","isImageOpen","setIsImageOpen","setImage","imageCaption","setImageCaption","setCurrentUser","closeAllPopups","getUserInfo","cards","setCards","getInitialCards","Provider","caption","map","key","length","removeLike","newCard","newCards","c","likeCard","handleCardLike","removeCard","handleCardDelete","setUserInfo","setUserAvatar","addCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.d59d055b.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <>\r\n      <header>\r\n        <div className=\"header\">\r\n          <img src={logo} alt=\"Around the US\" className=\"header__logo\" />\r\n        </div>\r\n      </header>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <>\r\n      <main>\r\n        <section className=\"profile\">\r\n          <img src={currentUser.avatar} alt=\"Avatar\" className=\"profile__avatar\" />\r\n          <div onClick={props.onEditAvatar} className=\"profile__avatar-overlay\"></div>\r\n          <div className=\"profile__text-container\">\r\n            <p className=\"profile__name\">{currentUser.name}</p>\r\n            <p className=\"profile__occupation\">{currentUser.about}</p>\r\n          </div>\r\n          <button onClick={props.onEditProfile} className=\"profile__edit\" type=\"button\" name=\"button\">\r\n          </button>\r\n          <button onClick={props.onAddCard} className=\"profile__add\" type=\"button\" name=\"button\">\r\n          </button>\r\n        </section>\r\n        <section className=\"element\">\r\n          <ul className=\"element__container\">\r\n            {props.children}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const currentUserId = currentUser._id\r\n  const isOwn = props.card.owner._id === currentUserId\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  return (\r\n    <>\r\n      <li className=\"element__card\">\r\n        <div onClick={props.onCardImageClick} className=\"element__image\" style={{backgroundImage:`url(${props.image})`}}>\r\n        </div>\r\n        <button onClick={props.onCardDelete} className={isOwn ?\"element__trash_visible\" :\"element__trash\"} type=\"button\" name=\"trash\"></button>\r\n        <div className=\"element__caption\">\r\n          <h2 className=\"element__title\">{props.title}</h2>\r\n          <button onClick={props.onCardLike} className={isLiked ?\"element__heart element__heart_filled\" :\"element__heart element__heart_empty\"} type=\"button\" name=\"like\">\r\n            <p className=\"element__likes\">{props.likecount}</p>\r\n          </button>\r\n        </div>\r\n      </li>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <>\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">© 2020 Around The U.S.</p>\r\n      </footer>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <>\r\n      <div className={props.isOpen ? \"pop-up__container pop-up__container_active\": \"pop-up__container\"}>\r\n        <section className={`pop-up${props.popupType}`}>\r\n          <button onClick={props.onClose} className=\"pop-up__close\"></button>\r\n          <p className={`pop-up__heading${props.popupType}`}>{props.heading}</p>\r\n          <form onSubmit={props.handleSubmit} className=\"pop-up__form\" noValidate>\r\n            {props.children}\r\n            <button onClick={props.onClose}className=\"pop-up__save\" type=\"submit\" name=\"Save\" >{props.buttonText}</button>\r\n          </form>\r\n        </section>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n\r\n  const [name, setName] = React.useState(currentUser.name)\r\n  const [description, setDescription] = React.useState(currentUser.about)\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    props.onUpdateUser(name, description, currentUser.avatar)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm heading=\"Edit Profile\" buttonText=\"Save\" popupType=\"\" isOpen={props.isEditOpen} onClose={props.onClose} handleSubmit={handleSubmit}>\r\n      <input onChange={handleNameChange} id=\"profile-name\" name=\"profile name\" minLength=\"2\" maxLength=\"40\" required className=\"pop-up__name-input pop-up__input\" type=\"text\" placeholder=\"Name\" />\r\n      <span id=\"profile-name-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n      <input onChange={handleDescriptionChange} id=\"profile-occupation\" name=\"profile occupation\" minLength=\"2\" maxLength=\"40\" required className=\"pop-up__occupation-input pop-up__input\" type=\"text\" placeholder=\"Occupation\" />\r\n      <span id=\"profile-occupation-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  const [avatar, setAvatar] = React.useState(currentUser.avatar)\r\n\r\n  const avatarInputRef = React.useRef(avatar)\r\n\r\n  function handleAvatarChange(e) {\r\n    setAvatar(avatarInputRef.current.value)\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault()\r\n    props.onUpdateAvatar(avatar)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm heading=\"Change Profile Picture\" buttonText=\"Save\" popupType=\"_type_avatar\" isOpen={props.isAvatarOpen} onClose={props.onClose} handleSubmit={handleSubmit}>\r\n      <input ref={avatarInputRef} onChange={handleAvatarChange} id=\"avatar-url\" name=\"avatar url\" type=\"url\" required className=\"pop-up__url-input pop-up__avatar-input pop-up__input\" placeholder=\"Avatar URL\" />\r\n      <span id=\"avatar-url-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js'\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [newCardName, setNewCardName] = React.useState(\"\")\r\n  const [newCardLink, setNewCardLink] = React.useState(\"\")\r\n\r\n  function handleNewCardNameChange(e) {\r\n    setNewCardName(e.target.value)\r\n  }\r\n\r\n  function handleNewCardLinkChange(e) {\r\n    setNewCardLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    props.onAddPlace({\r\n      title: newCardName,\r\n      link: newCardLink\r\n    })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm heading=\"New Place\" buttonText=\"Submit\" popupType=\"\" isOpen={props.isAddOpen} onClose={props.onClose} handleSubmit={handleSubmit}>\r\n      <input onChange={handleNewCardNameChange} id=\"image-title\" name=\"image title\" minLength=\"1\" maxLength=\"30\" required className=\"pop-up__title-input pop-up__input\" type=\"text\" placeholder=\"Title\" />\r\n      <span id=\"image-title-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n      <input onChange={handleNewCardLinkChange} id=\"image-url\" name=\"image url\" type=\"url\" required className=\"pop-up__url-input pop-up__input\" placeholder=\"Image URL\" />\r\n      <span id=\"image-url-error\" className=\"pop-up__error pop-up__error_visible\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <>\r\n      <div className={props.isOpen ? \"element__pop-up-container element__pop-up-container_display\": \"element__pop-up-container\"}>\r\n        <div className=\"element__pop-up\" style={{backgroundImage:`url(${props.image})`}} >\r\n          <button onClick={props.onClose} type=\"button\" name=\"close\" className=\"pop-up__close_image\"></button>\r\n          <p className=\"element__tag\">{props.title}</p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n"," class Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl\r\n    this._headers = headers\r\n  }\r\n\r\n//GET https://around.nomoreparties.co/v1/group-3/cards\r\n  getInitialCards() {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      headers: this._headers\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n//GET https://around.nomoreparties.co/v1/group-3/users/me\r\n  getUserInfo() {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      headers: this._headers\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n//POST https://around.nomoreparties.co/v1/group-3/cards\r\n  addCard({title, link}) {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      headers: this._headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        name: title,\r\n        link: link\r\n      })\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n\r\n  removeCard(cardId) {\r\n    return fetch(this._baseUrl + '/cards/' + cardId, {\r\n      headers: this._headers,\r\n      method: \"DELETE\"\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n//PUT https://around.nomoreparties.co/v1/group-3/cards/likes/cardId\r\n  likeCard(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      headers: this._headers,\r\n      method: \"PUT\"\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\r\n      headers: this._headers,\r\n      method: \"DELETE\"\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n\r\n  setUserInfo({name, about}) {\r\n    fetch(this._baseUrl + '/users/me', {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: \"0822cc1d-2b11-427a-9c40-48a5387f2b93\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n// PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\r\n  setUserAvatar({avatar}) {\r\n    return fetch(this._baseUrl + '/users/me/avatar', {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: \"0822cc1d-2b11-427a-9c40-48a5387f2b93\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar\r\n      })\r\n    })\r\n    .then(res => res.ok ? res.json() : Promise.reject('Error!' + res.statusText))\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-3\",\r\n  headers: {\r\n    authorization: \"0822cc1d-2b11-427a-9c40-48a5387f2b93\",\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport Header from './Header.js'\r\nimport Main from './Main.js'\r\nimport Card from './Card.js'\r\nimport Footer from './Footer.js'\r\nimport PopupWithForm from './PopupWithForm.js'\r\nimport EditProfilePopup from './EditProfilePopup.js'\r\nimport EditAvatarPopup from './EditAvatarPopup.js'\r\nimport AddPlacePopup from './AddPlacePopup.js'\r\nimport ImagePopup from './ImagePopup.js'\r\nimport api from '../utils/Api.js'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction App() {\r\n\r\n  const [isOverlayOn, setIsOverlayOn] = React.useState(false)\r\n\r\n  const [isEditOpen, setIsEditOpen] = React.useState(false)\r\n  const [isAvatarOpen, setIsAvatarOpen] = React.useState(false)\r\n  const [isAddOpen, setIsAddOpen] = React.useState(false)\r\n\r\n  const [isImageOpen, setIsImageOpen] = React.useState(false)\r\n  const [image, setImage] = React.useState(\"\")\r\n  const [imageCaption, setImageCaption] = React.useState(\"\")\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({avatar: \"\", name: \"\", about: \"\"})\r\n  React.useEffect(() => {\r\n    api.getUserInfo().then(res => {\r\n      setCurrentUser(res)\r\n    })\r\n  }, [setCurrentUser])\r\n\r\n  function closeAllPopups() {\r\n    setIsOverlayOn(false)\r\n    setIsAddOpen(false)\r\n    setIsEditOpen(false)\r\n    setIsImageOpen(false)\r\n    setIsAvatarOpen(false)\r\n  }\r\n\r\n  function onUpdateUser(name, about) {\r\n    setCurrentUser({\r\n      name: name,\r\n      about: about,\r\n      avatar: currentUser.avatar\r\n    })\r\n    api.setUserInfo({name:name, about: about})\r\n  }\r\n\r\n  function onUpdateAvatar(avatar) {\r\n    setCurrentUser({\r\n      name: currentUser.name,\r\n      about: currentUser.about,\r\n      avatar: avatar\r\n    })\r\n    api.setUserAvatar({avatar: avatar})\r\n  }\r\n\r\n  const [cards, setCards] = React.useState([])\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then(res => {\r\n      setCards(res)\r\n    })\r\n  }, [setCards, cards])\r\n\r\n  function handleCardLike(card){\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    if (isLiked) {\r\n      api.removeLike(card._id).then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    });\r\n    } else {\r\n      api.likeCard(card._id).then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    });\r\n    }\r\n  }\r\n\r\n  function handleCardDelete(card){\r\n    api.removeCard(card._id).then(\r\n      setCards(cards)\r\n    )\r\n  }\r\n\r\n  function onCardImageClick(link, caption){\r\n    setIsImageOpen(true)\r\n    setImage(link)\r\n    setImageCaption(caption)\r\n    setIsOverlayOn(true)\r\n  }\r\n\r\n  function onAddPlace(newCard){\r\n    api.addCard(newCard)\r\n  }\r\n\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className={isOverlayOn ? \"overlay overlay_dark\" : \"overlay\"}>\r\n          <Header />\r\n\r\n            <Main\r\n              onEditAvatar={() => {\r\n                setIsAvatarOpen(true)\r\n                setIsOverlayOn(true)\r\n              }}\r\n              onEditProfile={() => {\r\n                setIsEditOpen(true)\r\n                setIsOverlayOn(true)\r\n              }}\r\n              onAddCard={() => {\r\n                 setIsAddOpen(true)\r\n                 setIsOverlayOn(true)\r\n              }}\r\n              onCardImageClick={(link, caption) => {\r\n                setIsImageOpen(true)\r\n                setImage(link)\r\n                setImageCaption(caption)\r\n                setIsOverlayOn(true)\r\n              }}\r\n            >\r\n              {cards.map((card, i) => {\r\n                return (\r\n                  <Card key={i} card={card} image={card.link} title={card.name} likecount={card.likes.length}\r\n                  onCardLike={()=>{handleCardLike(card)}}\r\n                  onCardDelete={()=>{handleCardDelete(card)}}\r\n                  onCardImageClick={() => {onCardImageClick(card.link, card.name)}}\r\n                  />\r\n                )\r\n              })}\r\n            </Main>\r\n\r\n          <Footer />\r\n        </div>\r\n      <EditProfilePopup onUpdateUser={onUpdateUser} isEditOpen={isEditOpen} onClose={closeAllPopups} />\r\n      <EditAvatarPopup onUpdateAvatar={onUpdateAvatar} isAvatarOpen={isAvatarOpen} onClose={closeAllPopups} />\r\n      <AddPlacePopup onAddPlace={onAddPlace} isAddOpen={isAddOpen} onClose={closeAllPopups} />\r\n\r\n      <PopupWithForm heading=\"Are You Sure?\" buttonText=\"Yes\" popupType=\"_type_delete\" />\r\n\r\n      <ImagePopup isOpen={isImageOpen} title={imageCaption} image={image} onClose={() => {\r\n        setIsImageOpen(false)\r\n        setIsOverlayOn(false)\r\n      }\r\n      }/>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.3e6893cd.svg\";"],"sourceRoot":""}